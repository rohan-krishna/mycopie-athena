/*! tabtab.js - v0.1.3 | (c) 2015 @gijsroge | MIT license | https://github.com/gijsroge/tabtab.js */
!function(a){"use strict";a.fn.closestChild=function(b){var c,d;return c=this.children(),0===c.length?a():(d=c.filter(b),d.length>0?d:c.closestChild(b))};var b=0;a.fn.tabtab=function(c){var d=a.extend({tabMenu:".tabs__menu",tabContent:".tabs__content",next:".tabs-controls__next",prev:".tabs-controls__prev",startSlide:2,arrows:!0,animateHeight:!0,fixedHeight:!0,useAnimations:!0,easing:[200,20],speed:700,slideDelay:0,perspective:1500,transformOrigin:"center top",perspectiveOrigin:"50% 50%",translateY:0,translateX:0,scale:1.05,rotateX:20,rotateY:0,skewY:0,skewX:0,tabSwitched:function(){}},c);return this.each(function(){var c,e,f=a(this),g=f.closestChild(d.tabMenu),h=g.closestChild("li"),i=h.length,j=f.closestChild(d.tabContent),k=j.children();c=d.startSlide<1?0:d.startSlide>i?i-1:d.startSlide-1,"slide"===d.translateX&&(d.translateX=a(k).outerWidth()),"slide"===d.translateY&&(d.translateY=a(k).outerHeight());var l=d.startSlide-1,m="left",n=f.find(d.next),o=f.find(d.prev),p=d.useAnimations;b++,d.useAnimations&&(a.isFunction(a.fn.velocity)||(p=!1,console.log("Animations wil not work because you did not include the www.velocityjs.org library"))),k.css("position","absolute"),e=0,j.wrapInner('<div class="js-tabs-height"></div>'),d.animateHeight===!0&&d.fixedHeight===!1?(e=k.eq(c).outerHeight(),f.find(".js-tabs-height").height(e)):d.fixedHeight===!0?(k.each(function(){e=e>a(this).outerHeight()?e:a(this).outerHeight()}),f.find(".js-tabs-height").height(e)):(e=k.eq(c).outerHeight(),f.find(".js-tabs-height").height(e)),h.on("click",function(b){return b=a(this).index(),b!==c&&q(b,c),c=b,!1}),n.on("click",function(){return l=c+1,q(l,c),!1}),o.on("click",function(){return l=c-1,q(l,c),!1}),d.arrows===!0&&1>=b&&a(document).keydown(function(b){a("input").is(":focus")||(37===b.keyCode?(l=c-1,q(l,c)):39===b.keyCode&&(l=c+1,q(l,c)))});var q=function(b,e){return b>=i||0>b?(1>l?l=0:b>=i&&(l=i-1),!1):(h.eq(e).removeClass("active").attr("aria-hidden","true"),h.eq(b).addClass("active").attr("aria-hidden","false"),k.eq(e).removeClass("active").attr("aria-hidden","true"),k.eq(b).addClass("active").attr("aria-hidden","false"),b>e?(m="right",c=l,l=b):e>b&&(m="left",c=l,l=b),p?(k.eq(b).velocity({translateX:function(){return"left"===m?-d.translateX:d.translateX},translateY:function(){return"left"===m?-d.translateY:d.translateY},scale:function(){return"left"===m?d.scale-2*(d.scale-1):d.scale+(d.scale-1)},rotateX:function(){return"left"===m?-d.rotateX:d.rotateX},rotateY:function(){return"left"===m?-d.rotateY:d.rotateY},skewY:function(){return"left"===m?-d.skewY:d.skewY},skewX:function(){return"left"===m?-d.skewX:d.skewX},opacity:0},{duration:0}).velocity({translateX:0,translateY:0,scale:1,opacity:1,rotateY:0,rotateX:0,skewY:0,skewX:0},{easing:d.easing,duration:d.speed,delay:d.slideDelay,queue:!1,complete:function(){a(this).css("z-index",i)}}),k.eq(e).velocity({translateX:function(){return"left"===m?d.translateX:-d.translateX},translateY:function(){return"left"===m?d.translateY:-d.translateY},scale:function(){return"left"===m?d.scale+(d.scale-1):d.scale-2*(d.scale-1)},rotateX:function(){return"left"===m?d.rotateX:-d.rotateX},rotateY:function(){return"left"===m?d.rotateY:-d.rotateY},rotateZ:function(){return"left"===m?d.rotateZ:-d.rotateZ},skewX:function(){return"left"===m?d.skewX:-d.skewX},skewY:function(){return"left"===m?d.skewY:-d.skewY},opacity:0,delay:1e3},{easing:d.easing,duration:d.speed,queue:!1,complete:function(){a(this).css("z-index","-1")}})):(k.eq(e).hide(),k.eq(b).show()),d.animateHeight===!0&&p&&d.fixedHeight!==!0?f.find(".js-tabs-height").velocity({height:a(k).eq(b).outerHeight()},{easing:d.easing,duration:d.speed,queue:!1}):d.animateHeight===!1&&d.fixedHeight===!1&&f.find(".js-tabs-height").css("height",a(k).eq(b).outerHeight()),r(),void d.tabSwitched.call(this))};k.each(function(){p?a(this).index()!==c?a(this).velocity({opacity:0},{display:"block",duration:0,complete:function(){a(this).css({"z-index":"-1"})}}):a(this).css({opacity:"1","z-index":i}):a(this).hide()}),g.css({"z-index":i+1,position:"relative"}),d.useAnimations&&(a(".js-tabs-height").css({perspective:d.perspective,"perspective-origin":d.perspectiveOrigin}),k.css({"transform-origin":d.transformOrigin}));var r=function(){l===i-1?(n.addClass("disabled"),o.removeClass("disabled")):0===l?(o.addClass("disabled"),n.removeClass("disabled")):(n.removeClass("disabled"),o.removeClass("disabled"))};h.attr("aria-hidden","true").eq(c).addClass("active").attr("aria-hidden","false"),k.attr("aria-hidden","true").eq(c).addClass("active").attr("aria-hidden","false").css("display","block"),r()})}}(jQuery);